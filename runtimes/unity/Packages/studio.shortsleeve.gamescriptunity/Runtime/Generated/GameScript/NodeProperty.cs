// <auto-generated>
//  automatically generated by the FlatBuffers compiler, do not modify
// </auto-generated>

namespace GameScript
{

using global::System;
using global::System.Collections.Generic;
using global::Google.FlatBuffers;

public struct NodeProperty : IFlatbufferObject
{
  private Table __p;
  public ByteBuffer ByteBuffer { get { return __p.bb; } }
  public static void ValidateVersion() { FlatBufferConstants.FLATBUFFERS_25_12_19(); }
  public static NodeProperty GetRootAsNodeProperty(ByteBuffer _bb) { return GetRootAsNodeProperty(_bb, new NodeProperty()); }
  public static NodeProperty GetRootAsNodeProperty(ByteBuffer _bb, NodeProperty obj) { return (obj.__assign(_bb.GetInt(_bb.Position) + _bb.Position, _bb)); }
  public void __init(int _i, ByteBuffer _bb) { __p = new Table(_i, _bb); }
  public NodeProperty __assign(int _i, ByteBuffer _bb) { __init(_i, _bb); return this; }

  public int TemplateIdx { get { int o = __p.__offset(4); return o != 0 ? __p.bb.GetInt(o + __p.bb_pos) : (int)0; } }
  public GameScript.PropertyValue ValueType { get { int o = __p.__offset(6); return o != 0 ? (GameScript.PropertyValue)__p.bb.Get(o + __p.bb_pos) : GameScript.PropertyValue.NONE; } }
  public TTable? Value<TTable>() where TTable : struct, IFlatbufferObject { int o = __p.__offset(8); return o != 0 ? (TTable?)__p.__union<TTable>(o + __p.bb_pos) : null; }
  public string ValueAsString() { int o = __p.__offset(8); return o != 0 ? __p.__string(o + __p.bb_pos) : null; }
  public string ValueAsstring_val() { return ValueAsString(); }
  public GameScript.Int32Value ValueAsint_val() { return Value<GameScript.Int32Value>().Value; }
  public GameScript.FloatValue ValueAsdecimal_val() { return Value<GameScript.FloatValue>().Value; }
  public GameScript.BoolValue ValueAsbool_val() { return Value<GameScript.BoolValue>().Value; }

  public static Offset<GameScript.NodeProperty> CreateNodeProperty(FlatBufferBuilder builder,
      int template_idx = 0,
      GameScript.PropertyValue value_type = GameScript.PropertyValue.NONE,
      int valueOffset = 0) {
    builder.StartTable(3);
    NodeProperty.AddValue(builder, valueOffset);
    NodeProperty.AddTemplateIdx(builder, template_idx);
    NodeProperty.AddValueType(builder, value_type);
    return NodeProperty.EndNodeProperty(builder);
  }

  public static void StartNodeProperty(FlatBufferBuilder builder) { builder.StartTable(3); }
  public static void AddTemplateIdx(FlatBufferBuilder builder, int templateIdx) { builder.AddInt(0, templateIdx, 0); }
  public static void AddValueType(FlatBufferBuilder builder, GameScript.PropertyValue valueType) { builder.AddByte(1, (byte)valueType, 0); }
  public static void AddValue(FlatBufferBuilder builder, int valueOffset) { builder.AddOffset(2, valueOffset, 0); }
  public static Offset<GameScript.NodeProperty> EndNodeProperty(FlatBufferBuilder builder) {
    int o = builder.EndTable();
    return new Offset<GameScript.NodeProperty>(o);
  }
  public NodePropertyT UnPack() {
    var _o = new NodePropertyT();
    this.UnPackTo(_o);
    return _o;
  }
  public void UnPackTo(NodePropertyT _o) {
    _o.TemplateIdx = this.TemplateIdx;
    _o.Value = new GameScript.PropertyValueUnion();
    _o.Value.Type = this.ValueType;
    switch (this.ValueType) {
      default: break;
      case GameScript.PropertyValue.string_val:
        _o.Value.Value = this.ValueAsString();
        break;
      case GameScript.PropertyValue.int_val:
        _o.Value.Value = this.Value<GameScript.Int32Value>().HasValue ? this.Value<GameScript.Int32Value>().Value.UnPack() : null;
        break;
      case GameScript.PropertyValue.decimal_val:
        _o.Value.Value = this.Value<GameScript.FloatValue>().HasValue ? this.Value<GameScript.FloatValue>().Value.UnPack() : null;
        break;
      case GameScript.PropertyValue.bool_val:
        _o.Value.Value = this.Value<GameScript.BoolValue>().HasValue ? this.Value<GameScript.BoolValue>().Value.UnPack() : null;
        break;
    }
  }
  public static Offset<GameScript.NodeProperty> Pack(FlatBufferBuilder builder, NodePropertyT _o) {
    if (_o == null) return default(Offset<GameScript.NodeProperty>);
    var _value_type = _o.Value == null ? GameScript.PropertyValue.NONE : _o.Value.Type;
    var _value = _o.Value == null ? 0 : GameScript.PropertyValueUnion.Pack(builder, _o.Value);
    return CreateNodeProperty(
      builder,
      _o.TemplateIdx,
      _value_type,
      _value);
  }
}

public class NodePropertyT
{
  public int TemplateIdx { get; set; }
  public GameScript.PropertyValueUnion Value { get; set; }

  public NodePropertyT() {
    this.TemplateIdx = 0;
    this.Value = null;
  }
}


static public class NodePropertyVerify
{
  static public bool Verify(Google.FlatBuffers.Verifier verifier, uint tablePos)
  {
    return verifier.VerifyTableStart(tablePos)
      && verifier.VerifyField(tablePos, 4 /*TemplateIdx*/, 4 /*int*/, 4, false)
      && verifier.VerifyField(tablePos, 6 /*ValueType*/, 1 /*GameScript.PropertyValue*/, 1, false)
      && verifier.VerifyUnion(tablePos, 6, 8 /*Value*/, GameScript.PropertyValueVerify.Verify, false)
      && verifier.VerifyTableEnd(tablePos);
  }
}

}
